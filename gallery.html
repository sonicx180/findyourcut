<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<!-- Stylesheets -->
		<link rel="stylesheet" href="css/base.css" />
		<link rel="stylesheet" href="css/gallery.css" />
		<title>FindYourCut</title>
	</head>
	<body>
		<header class="header">
			<nav class="nav">
				<div class="dropdown">
					<div class="dropdown-block"></div>
					<div class="dropdown-block"></div>
					<div class="dropdown-block"></div>
					<div class="dropdown-content">
						<a href="/" class="dropdown-link"> Home</a>
						<a href="/upload.html" class="dropdown-link">
							Upload
						</a>
						<a href="/gallery.html" class="dropdown-link">
							Gallery
						</a>
						<a href="/contact.html" class="dropdown-link">
							Contact
						</a>
					</div>
				</div>
				<h1 class="title">FindYourCut</h1>
			</nav>
		</header>
		<main>
			<h1>Gallery</h1>
			<div class="haircut-container">
				<div class="haircut-item">
					<img src="/images/lowfadecut.jpg" alt="Low fade" />
					<h3>Low Fade Cut</h3>
				</div>
			</div>
		</main>
		<footer class="footer">
			<h3>
				&copy; This project was created by
				<a href="https://github.com/sonicx180" target="_blank">
					Sonicx180</a
				>
			</h3>
		</footer>
		<script src="nav.js"></script>
		<script>
			(async function () {
				try {
					// The container for all the haircuts
					const hairContainer =
						document.querySelector('.haircut-container');

					const { files } = await fetch(
						'https://findyourcutbackend.sonicx180.hackclub.app/gallery',
					).then((res) => res.json());

					files.forEach((item) => {
						const hairItem = document.createElement('div');
						const hairImg = document.createElement('img');
						const hairTitle = document.createElement('h3');
						hairImg.src = item.location; // Set the image source to the link from the server
						hairImg.alt = item.name;

						hairTitle.textContent = item.name;
						hairItem.className = 'haircut-item';
						hairItem.append(hairImg, hairTitle);
						hairContainer.appendChild(hairItem);
					});
				} catch (error) {
					console.log('Failed,', error);
					location.pathname = '/';
				}
			})();
		</script>
	</body>
</html>
